# SPARK V1.2.1 - QA CHECKLIST & SHIP APPROVAL

**Version:** v1.2.1  
**QA Date:** 2025-01-17  
**Status:** â³ READY FOR FINAL REVIEW

---

## âœ… 1. GÃ–RSEL/YERLEÅÄ°M

### Dashboard
- â¬œ **Sticky Sidebar Test**
  - Scroll to bottom â†’ Right panel stays visible
  - FloatingActions no overlap with sidebar
  - Bottom padding (pb-32) sufficient
  
- â¬œ **StatusPills**
  - Shows: "Ortam: Deneme â€¢ Veri AkÄ±ÅŸÄ±: SaÄŸlÄ±klÄ± â€¢ AracÄ±: Ã‡evrimdÄ±ÅŸÄ±"
  - All text in Turkish
  - Proper color coding (green/amber/red)

- â¬œ **Metrics**
  - Two equal-height cards
  - "P95 gecikme" and "GÃ¼ncellik gecikmesi"
  - Hints visible: "Hedef: 1200 ms", "EÅŸik: 30 sn"

### Strategy Lab
- â¬œ **StatusPills Present**
  - Same format as Dashboard
  - TR localization consistent
  
- â¬œ **Empty State**
  - Placeholder: "BaÅŸlamak iÃ§in bir strateji isteÄŸi yazÄ±n..."
  - Button disabled when prompt empty
  - Textarea min-height: 160px

- â¬œ **Tabs**
  - font-medium styling
  - Clear visual hierarchy

### Portfolio
- â¬œ **Currency Format**
  - Shows: "12.847,50 $" (not "$12,847.50")
  - Narrow no-break space (U+202F) between number and symbol
  - No line breaks in currency values

- â¬œ **Tabular Numbers**
  - All numbers use .tabular class
  - Numbers don't shift when values change
  - whitespace-nowrap prevents wrapping

- â¬œ **PnL Colors**
  - Positive: emerald-400 (green)
  - Negative: red-400 (red)
  - Monospace font for consistency

---

## âœ… 2. TERMÄ°NOLOJÄ°/i18n

### TR Button Labels
- â¬œ "Pozisyonu Kapat" (not "Ä°ÅŸlemi Kapat")
- â¬œ "Ters Pozisyon AÃ§" (not "Tersine Ã‡evir")
- â¬œ "KanÄ±tÄ± AÃ§" (not "KanÄ±ta Git")
- â¬œ "Son Canary Testi" (not "Son Canary Smoke")
- â¬œ "Alarmdan Taslak OluÅŸtur" (not "Alarmdan Taslak")

### Status Text
- â¬œ "Ortam" (not "Env")
- â¬œ "Veri AkÄ±ÅŸÄ±" (not "Feed")
- â¬œ "AracÄ±" (not "Broker")
- â¬œ "SaÄŸlÄ±klÄ±" (not "Healthy")
- â¬œ "Ã‡evrimdÄ±ÅŸÄ±" (not "Offline")
- â¬œ "Deneme" (not "Mock")

### Empty States
- â¬œ "HenÃ¼z veri yok." (not "â€”" or "N/A")

### Time Text
- â¬œ "24 saat P&L" (not "24h P&L" or "24s P&L")

---

## âœ… 3. ERÄ°ÅÄ°LEBÄ°LÄ°RLÄ°K

### Keyboard Navigation
- â¬œ Tab through all interactive elements
- â¬œ Focus rings visible (2px green outline)
- â¬œ Enter/Space activate buttons
- â¬œ Esc closes modals/menus

### Screen Reader
- â¬œ aria-live on PnL updates
- â¬œ aria-label on FloatingActions
- â¬œ aria-label on individual buttons
- â¬œ Proper heading hierarchy (h1 â†’ h2 â†’ h3)

### Contrast
- â¬œ Text/background: â‰¥ 4.5:1 (WCAG AA)
- â¬œ Focus indicators: â‰¥ 3:1
- â¬œ Color not sole indicator (text + icons)

---

## âœ… 4. HATA DURUMLARI

### Data Loading
- â¬œ Dashboard: Shows skeleton or "HenÃ¼z veri yok."
- â¬œ No React error boundary triggers
- â¬œ No console errors

### Empty Prompt
- â¬œ Strategy Lab: Button disabled
- â¬œ Helpful placeholder text visible
- â¬œ No submit on Enter when empty

### Network Errors
- â¬œ Graceful degradation
- â¬œ User-friendly error messages (TR)
- â¬œ Retry mechanism (if applicable)

---

## âœ… 5. OTOMASYON

### Build
```bash
cd C:\dev\apps\web-next
pnpm typecheck  # â†’ 0 errors
pnpm build      # â†’ SUCCESS
```

### Visual Tests
```bash
pnpm exec playwright test
# Expected: 5/5 PASS
# - dashboard overlap test
# - portfolio currency test
# - strategy-lab placeholder test
# - floating actions desktop test
# - floating actions mobile test
```

### Lighthouse (Optional)
```bash
# Run on http://127.0.0.1:3003/dashboard
# Target metrics:
# - CLS: â‰¤ 0.1 (currently ~0.00)
# - Accessibility: â‰¥ 90
# - Best Practices: â‰¥ 90
```

---

## ğŸ¯ SHIP CRITERIA

### Must Have (Blocking)
- âœ… TypeScript: 0 errors
- âœ… Build: SUCCESS
- âœ… All pages: 200 OK
- âœ… PM2: 4/4 online
- â¬œ Visual QA: Dashboard, Portfolio, Strategy Lab
- â¬œ i18n: 100% TR (no EN strings)
- â¬œ Accessibility: Keyboard + screen reader

### Nice to Have (Non-blocking)
- â¬œ Playwright: 5/5 PASS
- â¬œ Lighthouse: CLS < 0.1, A11y > 90
- â¬œ No console warnings
- â¬œ Mobile responsive check

---

## ğŸ“¦ SHIP COMMAND

```bash
cd C:\dev

# Tag release
git tag v1.2.1
git push origin v1.2.1

# Create release notes
echo "V1.2.1 - Production UI/UX Complete
- Core components (PageHeader, StatusPills, FloatingActions, Metric)
- 100% TR localization (typed i18n)
- Professional formatting (TR currency, tabular numbers)
- Zero overlaps (responsive FloatingActions)
- Accessibility (aria-live, focus rings)
- Visual regression tests (Playwright)" > RELEASE_NOTES_v1.2.1.txt

# PM2 production config
pm2 save
pm2 startup  # if not already configured
```

---

## ğŸš€ POST-SHIP MONITORING

### First 24 Hours
- â¬œ Check PM2 restart counts (should be stable)
- â¬œ Monitor browser console errors (should be zero)
- â¬œ User feedback on TR terminology
- â¬œ Mobile device testing (iOS Safari, Android Chrome)

### First Week
- â¬œ Lighthouse scores stable
- â¬œ No layout regressions
- â¬œ i18n working across all pages
- â¬œ FloatingActions no overlap reports

---

## âŒ ROLLBACK PLAN

### If Issues Found

**Quick Rollback:**
```bash
cd C:\dev\apps\web-next\src\app\dashboard
mv page.tsx page-v1.2.1.tsx
mv page-old.tsx page.tsx
pm2 restart spark-web-next
```

**Full Rollback:**
```bash
git revert HEAD~7  # Revert last 7 commits (Sprint 1 + P1 + P2 + P3)
pnpm build
pm2 restart spark-web-next
```

**Evidence:**
```bash
mkdir -p evidence/rollback_$(date +%Y%m%d_%H%M%S)
cp -r .next/ evidence/rollback_*/
pm2 jlist > evidence/rollback_*/pm2_status.json
```

---

*Ready for final QA review and ship approval* âœ…ğŸš€

