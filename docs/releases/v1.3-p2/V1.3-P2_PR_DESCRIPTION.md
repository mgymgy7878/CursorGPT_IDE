# V1.3-P2 â€¢ UI Polish Pack (8 fixes)

## ğŸ“‹ Ã–zet
8 maddelik UI tutarlÄ±lÄ±k ve cilalama paketiâ€”sayÄ±sal metin formatÄ±, i18n eksiklikleri, FAB Ã§akÄ±ÅŸmasÄ±, ve Tailwind renk token standardizasyonu.

## ğŸ¯ Sorun ve Ã‡Ã¶zÃ¼mler

| Sorun | Ã‡Ã¶zÃ¼m | Etki |
|-------|-------|------|
| SayÄ±lar aralÄ± gÃ¶rÃ¼nÃ¼yor ("1. 247, 50 $") | `.num-tight` utility (letter-spacing: 0, tabular-nums) | Dashboard KPI, Portfolio tablolar |
| "âŒ˜K Commands" / "âŒ˜K Komutlar" tutarsÄ±z | OS tespiti (`isMac()`) + i18n anahtarlarÄ± | FAB tÃ¼m sayfalarda |
| FAB saÄŸ panel alt dÃ¼ÄŸmeleriyle Ã§akÄ±ÅŸÄ±yor | Sidebar `pb-40 md:pb-44` + safe-area | Dashboard/Portfolio |
| "Connected/Active" Ä°ngilizce kalmÄ±ÅŸ | `t('status.connected/active')` i18n | Portfolio kartlarÄ± |
| USD formatÄ± karÄ±ÅŸÄ±k (EN/TR) | `formatCurrency(value, 'tr-TR', 'USD')` â†’ "42.500,00 $" | Portfolio tablo sÃ¼tunlarÄ± |
| Durum renkleri hard-coded | `colors.status.*` Tailwind token'larÄ± | Tailwind config |

## ğŸ”§ DeÄŸiÅŸiklikler

### 1. Globals CSS - `.num-tight` Utility
```css
.num-tight {
  font-variant-numeric: tabular-nums lining-nums;
  letter-spacing: 0;
  white-space: nowrap;
}
```
**KullanÄ±m:** TÃ¼m para birimi, metrik, yÃ¼zdelik gÃ¶sterimlerinde.

### 2. i18n AnahtarlarÄ±
```typescript
common: {
  cmdk_mac: "âŒ˜K Komutlar",
  cmdk_win: "Ctrl+K Komutlar",
},
status: {
  connected: "BaÄŸlÄ±",
  active: "Aktif",
  paused: "DuraklatÄ±ldÄ±",
  error: "Hata",
}
```

### 3. Tailwind Status Tokens
```typescript
colors: {
  status: {
    success: { DEFAULT: '#10B981', fg: '#052e1f' },
    warn: { DEFAULT: '#F59E0B', fg: '#3a2500' },
    error: { DEFAULT: '#EF4444', fg: '#3b0a0a' },
    info: { DEFAULT: '#3B82F6', fg: '#0a153b' },
    neutral: { DEFAULT: '#6B7280', fg: '#111827' },
  },
}
```
**KullanÄ±m:** `bg-status-success`, `text-status-error-fg`

### 4. FAB (FloatingActions)
- **OS Tespiti:** `isMac()` helper â†’ macOS'ta "âŒ˜K", Windows'ta "Ctrl+K"
- **Safe-area:** `bottom: max(24px, env(safe-area-inset-bottom, 24px))`
- **i18n:** `t('common.cmdk_mac')` / `t('common.cmdk_win')`

### 5. Portfolio & Dashboard
- **ENâ†’TR:** "Connected" â†’ "BaÄŸlÄ±", "Active" â†’ "Aktif"
- **USD Format:** `formatCurrency(value, 'tr-TR', 'USD')` â†’ tutarlÄ± TR locale
- **num-tight:** TÃ¼m sayÄ±sal deÄŸerlerde uygulandÄ±
- **Sidebar:** `pb-40 md:pb-44` ile FAB Ã§akÄ±ÅŸmasÄ± Ã¶nlendi

### 6. Metric Component
- **className prop:** Opsiyonel `className` desteÄŸi eklendi
- **KullanÄ±m:** `<Metric ... className="num-tight" />`

## âœ… Test SonuÃ§larÄ±

| Test | SonuÃ§ |
|------|-------|
| TypeScript (`pnpm typecheck`) | âœ… 0 error |
| Linter | âœ… 0 warning |
| Dev Server | âœ… http://localhost:3003 |
| Build | ğŸ”„ Pending (CI'da) |

## ğŸ“¸ Ã–nce/Sonra (Ekran GÃ¶rÃ¼ntÃ¼leri)

### Dashboard - KPI KartlarÄ±
**Ã–nce:** "58 ms" ile "0 sn" farklÄ± geniÅŸliklerde, sayÄ±lar dans ediyor  
**Sonra:** `num-tight` ile hizalÄ±, kompakt

### Portfolio - Tablo
**Ã–nce:** "$42,500" (EN) + "Connected" (EN)  
**Sonra:** "42.500,00 $" (TR) + "BaÄŸlÄ±" (TR)

### FAB - OS Aware
**Ã–nce:** Her yerde "âŒ˜K Komutlar"  
**Sonra:** macOS'ta "âŒ˜K Komutlar", Windows'ta "Ctrl+K Komutlar"

### SaÄŸ Panel
**Ã–nce:** FAB ile "Ops HÄ±zlÄ± YardÄ±m" butonu Ã§akÄ±ÅŸÄ±yor  
**Sonra:** `pb-40 md:pb-44` ile gÃ¼venli alan

## ğŸ” Manuel QA Checklist

- [ ] Dashboard â†’ P95/Staleness sayÄ±lar hizalÄ±
- [ ] Dashboard â†’ SaÄŸ sidebar FAB ile Ã§akÄ±ÅŸmÄ±yor
- [ ] Portfolio â†’ "BaÄŸlÄ±", "Aktif" TÃ¼rkÃ§e
- [ ] Portfolio â†’ USD format "42.500,00 $"
- [ ] Strategy Lab â†’ EN chip ÅŸeridi yok
- [ ] FAB â†’ macOS/Windows label doÄŸru
- [ ] Mobile/iOS â†’ safe-area-inset etkin
- [ ] Dark/Light â†’ kontrast korunuyor
- [ ] 1024â€“1440 px â†’ taÅŸma yok

## ğŸš€ Deployment Notes

- **Zero Breaking Changes:** Mevcut bileÅŸenler geriye uyumlu
- **CSS Utility:** `.num-tight` global, tÃ¼m sayfalarda kullanÄ±labilir
- **Tailwind Tokens:** `status.*` P3'te alert/chip'lerde kullanÄ±lacak
- **i18n:** Eksik anahtarlar runtime'da boÅŸ string dÃ¶ner (hata atmaz)

## ğŸ“¦ DeÄŸiÅŸen Dosyalar (8)

1. `apps/web-next/src/app/globals.css`
2. `apps/web-next/src/lib/i18n.ts`
3. `apps/web-next/tailwind.config.ts`
4. `apps/web-next/src/components/layout/FloatingActions.tsx`
5. `apps/web-next/src/app/portfolio/page.tsx`
6. `apps/web-next/src/components/portfolio/OptimisticPositionsTable.tsx`
7. `apps/web-next/src/app/dashboard/page.tsx`
8. `apps/web-next/src/components/ui/Metric.tsx`

## ğŸ¯ Rollback Plan

**Geri Alma:**
```bash
git revert <commit-sha>
# veya
git checkout main -- apps/web-next/src/app/globals.css apps/web-next/src/lib/i18n.ts ...
```

**Risk Profili:** DÃ¼ÅŸÃ¼k
- i18n anahtarÄ± eksikliÄŸi â†’ runtime boÅŸ string (UI bozulmaz)
- safe-area fallback â†’ Android WebView'da farklÄ± davranabilir
- `num-tight` â†’ bazÄ± fontlarda sorun olursa kaldÄ±r

## ğŸ”— Ä°lgili Issue/PR

- Ä°lgili Issue: #[ISSUE_NUMBER]
- Ã–nceki PR: V1.3-P1 (eÄŸer varsa)
- Sonraki PR: V1.3-P3 UI-Guardrails Harmonization

## ğŸ‘¥ Reviewer Checklist

- [ ] TypeCheck geÃ§iyor
- [ ] Lint temiz
- [ ] i18n anahtarlarÄ± TR/EN'de var
- [ ] Tailwind config compile oluyor
- [ ] Manuel QA (yukarÄ±daki checklist)
- [ ] Ã–nce/Sonra screenshot'lar incelendi

---

**Review sonrasÄ±:** Squash merge â†’ main
**Post-merge:** CI'da snapshot update + Storybook rebuild

