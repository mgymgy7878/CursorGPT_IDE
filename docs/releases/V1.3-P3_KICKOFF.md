# V1.3-P3 â€¢ UI-Guardrails Harmonization â€” KICKOFF

**Durum:** ğŸŸ¡ Planning  
**Tarih BaÅŸlangÄ±Ã§:** TBD (P2 merge sonrasÄ±)  
**Tahmini SÃ¼re:** 4-6 gÃ¼n  
**Branch:** `feature/v1.3-p3-ui-guardrails`

## ğŸ¯ Hedefler

1. **StatusBadge Unification** â†’ Tek durum gÃ¶stergesi bileÅŸeni
2. **i18n CI Gate** â†’ TR/EN anahtar paritesi otomatik kontrolÃ¼
3. **Format Helper Tests** â†’ Jest coverage %100
4. **Settings Polish** â†’ i18n tamamlanmasÄ±

## ğŸ“¦ Atomik AdÄ±mlar

### 1ï¸âƒ£ StatusBadge BileÅŸeni
**Dosya:** `apps/web-next/src/components/ui/StatusBadge.tsx`

```typescript
interface StatusBadgeProps {
  status: 'success' | 'warn' | 'error' | 'info' | 'neutral';
  label: string;
  size?: 'sm' | 'md' | 'lg';
  icon?: ReactNode;
}

// Tailwind colors.status.* kullanÄ±r (P2'de eklendi)
```

**Migration:**
- Alert chip â†’ StatusBadge
- SLOChip â†’ StatusBadge
- Guardrail status â†’ StatusBadge

**Commit:** `feat(ui): add unified StatusBadge using status.* tokens`

---

### 2ï¸âƒ£ i18n Parity Check
**Dosya:** `scripts/i18n-check.mjs`

```javascript
// TR/EN JSON karÅŸÄ±laÅŸtÄ±rma
// Eksik anahtarlarÄ± raporla
// Exit code: 0 (OK) | 1 (mismatch)
```

**NPM Script:**
```json
{
  "scripts": {
    "i18n:check": "node scripts/i18n-check.mjs"
  }
}
```

**CI Step:** `.github/workflows/ci.yml`
```yaml
- name: i18n Parity Check
  run: pnpm run i18n:check
```

**Commit:** `chore(i18n): add parity check script + CI step`

---

### 3ï¸âƒ£ Format Helper Tests
**Dosya:** `apps/web-next/src/lib/format.test.ts`

**Test SenaryolarÄ±:**
- âœ… Pozitif sayÄ±lar (TR/EN locale)
- âœ… Negatif sayÄ±lar
- âœ… SÄ±fÄ±r
- âœ… Ã‡ok bÃ¼yÃ¼k sayÄ±lar (1M+)
- âœ… Kesirli sayÄ±lar
- âœ… null/undefined handling

**Coverage Hedefi:** %100 (`format.ts`)

**Commit:** `test(format): add full coverage for format helpers`

---

### 4ï¸âƒ£ Settings i18n Polish
**Dosya:** `apps/web-next/src/app/settings/page.tsx`

**DeÄŸiÅŸiklikler:**
- "(light)" â†’ "(aydÄ±nlÄ±k)" i18n
- Tema seÃ§ici label'larÄ±
- Dil seÃ§ici UX iyileÅŸtirme

**i18n AnahtarlarÄ±:**
```typescript
settings: {
  theme: {
    dark: "KaranlÄ±k",
    light: "AydÄ±nlÄ±k",
    system: "Sistem",
  },
  language: {
    tr: "TÃ¼rkÃ§e",
    en: "English",
  },
}
```

**Commit:** `feat(settings): i18n polish (tr/en labels)`

---

## âœ… Kabul Kriterleri

| Kriter | Hedef | DoÄŸrulama |
|--------|-------|-----------|
| StatusBadge migration | %100 | grep ile eski chip kullanÄ±mÄ± yok |
| i18n parity | TR/EN eÅŸit | CI check geÃ§iyor |
| Format tests | %100 coverage | Jest report |
| Settings i18n | EN literal yok | Manuel QA |

## ğŸ§ª DoÄŸrulama (Smoke)

```bash
# Build
pnpm -w build

# Dev server
pnpm --filter web-next dev --port 3003

# Sayfalar
# - /dashboard â†’ StatusBadge tutarlÄ± renk
# - /portfolio â†’ StatusBadge tutarlÄ± renk
# - /strategy-lab â†’ StatusBadge tutarlÄ± renk
# - /settings â†’ Tema/dil i18n

# Tests
pnpm --filter web-next test

# i18n check
pnpm run i18n:check
```

## ğŸ“Š BaÅŸarÄ± Metrikleri

- **BileÅŸen SayÄ±sÄ±:** 1 StatusBadge (3-4 eski chip kaldÄ±rÄ±ldÄ±)
- **Test Coverage:** format.ts %100
- **i18n Keys:** TR/EN parity %100
- **Build Size:** +2 KB max

## âš ï¸ Riskler & Azaltma

| Risk | OlasÄ±lÄ±k | Azaltma |
|------|----------|---------|
| Eski chip kullanÄ±mÄ± kaldÄ± | Orta | grep scan + deprecation warning |
| i18n check false positive | DÃ¼ÅŸÃ¼k | Whitelist mekanizmasÄ± |
| Test edge case eksik | Orta | Comprehensive test suite |

## ğŸš€ Rollout PlanÄ±

1. **Alpha:** StatusBadge + i18n check (1-2 gÃ¼n)
2. **Beta:** Migration + format tests (2-3 gÃ¼n)
3. **RC:** Settings polish + QA (1 gÃ¼n)
4. **Final:** PR review + merge

**Toplam:** 4-6 gÃ¼n

---

## ğŸ“ Ã–n HazÄ±rlÄ±k

- [ ] P2 PR merge edildi
- [ ] Issue oluÅŸturuldu: "V1.3-P3 UI-Guardrails Harmonization"
- [ ] Sprint planlama toplantÄ±sÄ±
- [ ] Design review (StatusBadge varyasyonlarÄ±)

## ğŸ”— Ä°lgili Kaynaklar

- [P2 Release](./v1.3-p2/README.md)
- [P3 Plan Detay](./V1.3-P3_PLAN_DRAFT.md)
- Tailwind Docs: [Custom Colors](https://tailwindcss.com/docs/customizing-colors)
- Jest Docs: [Coverage](https://jestjs.io/docs/configuration#collectcoverage-boolean)

---

**Durum:** DRAFT â†’ P2 merge sonrasÄ± ACTIVE olacak
