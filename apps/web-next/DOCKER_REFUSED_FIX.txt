â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âš¡ "REFUSED" SÃ–NDÃœREN TEK-SEKANS                        â•‘
â•‘  Docker AÃ§Ä±k Ama 127.0.0.1:3003 "Refused"              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ "REFUSED" SÃ–NDÃœREN TEK-SEKANS (PowerShell)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 0) Host'ta 3003 gerÃ§ekten dinliyor mu?
Test-NetConnection 127.0.0.1 -Port 3003

# 1) Docker tarafÄ±nÄ± gÃ¶rÃ¼n: container + publish
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"

# 2) Varsa Next/log takibi iÃ§in ismi yakala (web|app|front|next desenleri)
$SVC=(docker ps --format "{{.Names}}" | Select-String -Pattern "web|app|front|next" | Select -First 1).ToString()

# 3) Compose ile kesin dÃ¼zeltme (host=0.0.0.0 + doÄŸru port publish)
#    Ã‡ALIÅTIRMA: bulunduÄŸun projenin kÃ¶kÃ¼nde aÅŸaÄŸÄ±daki compose taslaÄŸÄ±na uygula ve up et.

docker-compose.yml (emin versiyon â€“ kopyala/yapÄ±ÅŸtÄ±r, adlarÄ± uygunsa sadece Ã§alÄ±ÅŸÄ±r)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
services:
  web:
    build: .
    working_dir: /app/apps/web-next
    command: sh -c "pnpm install && pnpm dev --port 3003 --host 0.0.0.0"
    environment:
      - PORT=3003
      - HOST=0.0.0.0
    ports:
      - "3003:3003"   # EÄŸer Next iÃ§eride 3000'de dinliyorsa bunu "3003:3000" yap
    volumes:
      - .:/app

# 4) Temiz kalkÄ±ÅŸ
docker compose down -v
docker compose up --build -d

# 5) Publish doÄŸrula ve "ready" satÄ±rÄ±nÄ± gÃ¶r
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"
if ($SVC) { docker logs -f $SVC }

# 6) TarayÄ±cÄ± (HTTP!) ve nabÄ±z
#    http://localhost:3003/  veya  http://127.0.0.1:3003/
curl -I http://127.0.0.1:3003/api/healthz

ğŸ” HIZLI TEÅHÄ°S NASIL OKUNUR?
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ docker ps Ports sÃ¼tunu boÅŸ â†’ publish yok â†’ compose'taki ports: ekle/dÃ¼zelt, up --build -d.

âœ… Ports 0.0.0.0:3003->(3003|3000)/tcp ama hÃ¢lÃ¢ "refused" â†’ 
   container iÃ§indeki Next kalkmamÄ±ÅŸ ya da --host 0.0.0.0 verilmemiÅŸ.

âŒ Log'da ready - started server on 0.0.0.0:3003 gÃ¶rmÃ¼yorsan: 
   Ã¶nceki satÄ±rdaki build/TS hatasÄ±nÄ± dÃ¼zelt.

ğŸ” Ä°Ã‡ERDEN KONTROL (ÅÃ¼pheyi Bitirir)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if ($SVC) {
  docker exec -it $SVC sh -lc 'ss -ltnp | (grep 3003 || grep 3000); curl -I http://127.0.0.1:3003 || curl -I http://127.0.0.1:3000'
}

ğŸ“Š SONUÃ‡ ANALÄ°ZÄ°:
âœ… Ä°Ã§eride 200 geliyor, dÄ±ÅŸarÄ±da "refused" â†’ publish hatasÄ±.
âŒ Ä°Ã§eride de "refused" â†’ host binding hatasÄ± (--host 0.0.0.0 ÅŸart).

ğŸ§¯ SIK DÃœÅÃœLEN Ä°KÄ° TUZAK â†’ TEK SATIR PANZEHÄ°R
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”§ Ä°Ã§ port 3000'dir: 
   ports: ["3003:3000"]

ğŸ”Œ Host'ta baÅŸka sÃ¼reÃ§ portu tutuyor: 
   pnpm dlx kill-port 3003

âœ… YEÅÄ°L EKRAN CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ docker ps â†’ 0.0.0.0:3003->(3003|3000)/tcp
â–¡ Log â†’ ready - started server on 0.0.0.0:3003
â–¡ curl -I /api/healthz â†’ 200
â–¡ TarayÄ±cÄ± â†’ HTTP + localhost:3003
â–¡ Proxy/VPN engellemiyor

ğŸ¯ RÄ°TÄ°M: 60 BPM
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
BaÅŸlat â†’ Ã–lÃ§ â†’ DÃ¼zelt

Log, en dÃ¼rÃ¼st sahne amiridir; "ready" geldiÄŸi anda perde aÃ§Ä±lÄ±r.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¬ MÃœZÄ°K!

