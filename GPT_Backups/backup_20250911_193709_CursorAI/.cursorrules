# Cursor Rules  Actor Protocol v1.0
When: *
Instructions: |
  - All replies must start with cursor:.
  - Produce a single final summary (no mid-logs).
  - Use SUMMARY/VERIFY/APPLY/PATCH/FINALIZE formats with 11 bullets + HEALTH line.
  - Respect step-level secrets; skip dev-auth on fork PRs.
  - Do not promise future work; perform now or report blockers.

# chatgpt: Yanıt Formatı
When: Always
Instructions: |
  chatgpt: Tüm yanıtlarda başlangıç formatı: "cursor (AI model adı):" şeklinde olmalı.
  Örnek: "cursor (Claude 3.5 Sonnet):", "cursor (GPT-4):", vb.
  Bu format, hangi AI modelinin yanıt verdiğini açıkça gösterir.

# chatgpt: Proje Analiz Protokolü
When: User says "projeyi analiz et" or similar
Instructions: |
  chatgpt: Bu Spark Trading Platform projesidir. Proje yapısı:
  
  1. **Monorepo Mimarisi**: pnpm workspace ile yönetilen çoklu paket yapısı
     - apps/web-next: Next.js 14 frontend (port 3003)
     - services/executor: Node.js backend servis (port 4001)
     - packages/*: Paylaşılan kütüphaneler
  
  2. **Teknolojiler**:
     - Frontend: Next.js 14, TypeScript, Tailwind CSS, Zustand
     - Backend: Express, TypeScript, WebSocket
     - Araçlar: pnpm, ts-node-dev, ESBuild
  
  3. **Ana Özellikler**:
     - Trading stratejileri oluşturma ve yönetme
     - Gerçek zamanlı portföy takibi
     - Backtest motoru
     - Otomasyon kuralları
     - Prometheus metrikleri
  
  4. **Kritik Dosyalar**:
     - apps/web-next/app/page.tsx: Ana dashboard
     - services/executor/src/index.ts: Backend API
     - apps/web-next/next.config.js: Proxy ayarları
     - .env.local: Port ve URL konfigürasyonları
  
  5. **API Endpoints**:
     - /api/public/health: Sistem durumu
     - /api/public/metrics/prom: Prometheus metrikleri
     - /api/exec/start: Strateji başlatma
     - /api/exec/stop: Strateji durdurma
  
  6. **Geliştirme Komutları**:
     - Panel başlat: cd apps/web-next && pnpm dev
     - Executor başlat: cd services/executor && pnpm dev
     - Tüm bağımlılıkları yükle: pnpm -w install
  
  7. **Mevcut Sayfalar**:
     - /: Ana sayfa dashboard
     - /Gozlem: Sistem metrikleri
     - /PortfoyYonetimi: Pozisyonlar
     - /strategy-lab: Strateji oluşturma
     - /Stratejilerim: Strateji listesi
     - /Ayarlar: API ve sistem ayarları
     - /backtest-demo: Backtest aracı
     - /automation: Otomasyon kuralları
     - /control: Executor kontrol paneli
  
  8. **Bilinen Sorunlar**:
     - precision-registry.ts: Critical dependency uyarıları (göz ardı edilebilir)
     - styles/globals.css: Path sorunu (düzeltildi)
  
  9. **Güvenlik**:
     - JWT tabanlı authentication
     - Middleware ile korunan API rotaları
     - Public endpoint'ler için özel izinler
  
  10. **Performans**:
      - SSR devre dışı (dynamic imports)
      - Lazy loading componentler
      - WebSocket ile gerçek zamanlı veri
  
  11. **Sonraki Adımlar**:
      - Binance API entegrasyonu
      - WebSocket bağlantıları
      - Veritabanı entegrasyonu
      - Strateji execution engine
  
  HEALTH=GREEN (UI çalışıyor, backend hazır, tüm sayfalar aktif)

# chatgpt: İşlem Tamamlama Protokolü
When: User says "tüm işlemleri bitirdikten sonra" or similar
Instructions: |
  chatgpt: Tüm işlemleri tamamladıktan sonra şu formatta rapor ver:
  
  "cursor (AI model adı): Tüm işlemleri tamamladıktan sonra rapor ve önerilerimi sunuyorum..."
  
  Ardından:
  1. **SUMMARY** - Yapılan işlemlerin özeti (11 madde)
  2. **VERIFY** - Kontrol edilen noktalar
  3. **APPLY** - Uygulanan değişiklikler
  4. **PATCH** - Düzeltilen sorunlar
  5. **FINALIZE** - Sonuç ve öneriler
  6. **HEALTH=STATUS** - Genel durum
  
  Son olarak gelecek adımlar için öneriler sun.

# chatgpt: Rapor Formatı Hatırlatması
When: User says "bu formatı projeye hatırlatma olarak ekle" or similar
Instructions: |
  chatgpt: Tüm raporlarda şu formatı kullan:
  
  "cursor (AI model adı):" ile başla (örn: "cursor (Claude 3.5 Sonnet):")
  
  Ardından:
  - **SUMMARY** - Yapılan işlemlerin özeti (11 madde)
  - **VERIFY** - Kontrol edilen noktalar (varsa)
  - **APPLY** - Uygulanan değişiklikler (varsa)
  - **PATCH** - Düzeltilen sorunlar (varsa)
  - **FINALIZE** - Sonuç ve öneriler (varsa)
  - **HEALTH=STATUS** - Genel durum (GREEN/YELLOW/RED)
  
  Format örneği:
  "cursor (Claude 3.5 Sonnet): İŞLEM_ADI BAŞARILI ✅"
  
  Bu format tüm raporlarda tutarlı olmalı.
